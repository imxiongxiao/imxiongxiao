(function(t){function e(e){for(var n,i,a=e[0],c=e[1],u=e[2],l=0,d=[];l<a.length;l++)i=a[l],o[i]&&d.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);h&&h(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},o={index:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var h=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),o=s.n(n);o.a},"0593":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAALABQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6Tuzqf9osYWVbNVAKhQWPB5GfftkdKz2vNTFtvErGUfLsaNcHg8nA9ccAj+ddNRRZXux8zSsrfcUtHluJrPdd/wCt3Efh/niirtFCVgb5nc//2Q=="},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.showGithub?s("a",{staticClass:"my-github",attrs:{href:t.showGithubUrl}},[s("img",{staticClass:"attachment-full size-full",attrs:{width:"149",height:"149",src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149",alt:"Fork me on GitHub","data-recalc-dims":"1"}})]):t._e(),s("b-card",{attrs:{id:"qq-messages",header:t.currentTitle}},[s("div",{staticClass:"messages-group"},t._l(t.currentData,function(e,n){return s("b-card",{key:n,staticClass:"qq-message",attrs:{title:e.qq}},[s("b-card-text",{staticClass:"qq-content"},[t._v(t._s(e.content))])],1)}),1),s("br"),s("div",{staticClass:"message-input"},[s("b-textarea",{staticClass:"input-content",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.sendMessage(e):null}},model:{value:t.inputContent,callback:function(e){t.inputContent=e},expression:"inputContent"}}),s("br"),s("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0 col-md-2",attrs:{size:"sm"},model:{value:t.currentIndex,callback:function(e){t.currentIndex=e},expression:"currentIndex"}},t._l(t.qqs,function(e,n){return s("option",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],key:n,attrs:{title:"Tooltip content"},domProps:{value:n}},[t._v(t._s(e.qqname))])}),0),s("b-button-group",{staticClass:"input-btns"},[s("b-button",{attrs:{variant:"info"},on:{click:t.clearMessage}},[t._v("清空")]),s("b-button",{attrs:{variant:"success"},on:{click:t.sendMessage}},[t._v("发送")]),s("b-button",{attrs:{variant:"info"},on:{click:t.showDesc}},[t._v("点我")])],1)],1)])],1)},r=[],i=s("f499"),a=s.n(i),c={name:"app",data:function(){return{imgUrl:{click:s("0593")},inputContent:"内容",pathLocal:"ws://localhost:49632/",path:"",qqs:[],qqsMsgs:[],currentData:"",currentIndex:"",currentTitle:"",showGithub:!0,showGithubUrl:""}},methods:{initData:function(t){this.qqs=t.qqs;for(var e=0;e<this.qqs.length;e++)this.qqsMsgs[e]=[];if(this.qqs.length>0){this.currentIndex=0,this.currentTitle=this.qqs[this.currentIndex].qqname,this.showGithubUrl=t.showDev.devUrl;var s=localStorage.getItem("showGithub");s?this.showGithub=!1:localStorage.setItem("showGithub",!0),this.path=t.path}else alert("没有添加任何群")},init:function(){"undefined"===typeof WebSocket?alert("您的浏览器不支持socket"):(this.socket=new WebSocket(this.path),this.socket.onopen=this.open,this.socket.onerror=this.error,this.socket.onmessage=this.onMessage)},open:function(){console.log("socket连接成功")},error:function(){},onMessage:function(t){var e=JSON.parse(t.data);"string"!==typeof e.id&&("message"==e.event&&""!==e.params.group?this.addMsgs(e.params,1):"message"==e.event&&""!==e.params.qq&&this.addMsgs(e.params,2),this.chooseWhow())},close:function(){console.log("socket已经关闭")},chooseWhow:function(){this.currentData=this.qqsMsgs[this.currentIndex]},addMsgs:function(t,e){var s;if(1===e){for(s=0;s<this.qqs.length;s++)if(t.group===this.qqs[s].qq){this.qqsMsgs[s].push(t);break}}else if(2===e)for(s=0;s<this.qqs.length;s++)if(t.qq===this.qqs[s].qq){this.qqsMsgs[s].push(t);break}},sendGroup:function(t,e){var s=this.sendData(2,t,"",e);this.socket.send(a()(s))},sendQQ:function(t,e){var s=this.sendData(1,"",t,e);this.socket.send(a()(s))},sendMessage:function(){var t={qq:"me"};t.content=this.inputContent,2===this.qqs[this.currentIndex].type?(this.qqsMsgs[this.currentIndex].push(t),this.sendGroup(this.qqs[this.currentIndex].qq,this.inputContent)):1===this.qqs[this.currentIndex].type&&(this.qqsMsgs[this.currentIndex].push(t),this.sendQQ(this.qqs[this.currentIndex].qq,this.inputContent)),this.inputContent="",this.chooseWhow()},clearMessage:function(){this.qqsMsgs[this.currentIndex]=[],this.currentData=""},sendData:function(t,e,s,n){return{id:Math.floor(1e5*Math.random())+"",method:"sendMessage",params:{type:t,msgid:"",group:e,qq:s,content:n}}},showDesc:function(){alert(this.qqs[this.currentIndex].desc)}},mounted:function(){var t=s("7640");this.initData(t),this.init()},destroyed:function(){this.socket.onclose=this.close},components:{},watch:{currentData:function(){var t=this;this.$nextTick(function(){var e=t.$el.querySelector(".messages-group");e.scrollTop=e.scrollHeight})},currentIndex:function(){this.currentData=this.qqsMsgs[this.currentIndex],this.currentTitle=this.qqs[this.currentIndex].qqname}}},u=c,h=(s("034f"),s("2877")),l=Object(h["a"])(u,o,r,!1,null,null,null),d=l.exports,p=s("9f7b"),f=s.n(p);s("f9e3"),s("2dd8");n["a"].config.productionTip=!1,n["a"].use(f.a),new n["a"]({render:function(t){return t(d)}}).$mount("#app")},"64a9":function(t,e,s){},7640:function(t){t.exports={qqs:[{qqname:"点击网络",type:2,qq:"514343378",desc:"点击网络群"},{qqname:"有趣的群",type:2,qq:"221941055",desc:"我的有趣的群 221941055"},{qqname:"开发者说",type:1,qq:"1019443290",desc:"这是开发者的QQ 1019443290"}],showDev:{showGithub:!0,devUrl:"https://github.com/imxiongxiao/imxiongxiao.github.io"},path:"ws://182.254.133.233:49632"}}});
//# sourceMappingURL=index.b59cd152.js.map